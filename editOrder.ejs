<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Raw Materials</title>
    <style>
        .main_table {
            border: 1px solid rgb(22, 20, 16);
            width: 50%;
        }
        .td_center {
            text-align: center;
        }
        .save_button {
            width: 120px;
        }

    </style>
</head>
<body>
    
    <form action="updateOrder.htm" onsubmit="return validateMaterial();" method="POST">
    <table class="main_table">
          
        <tr>
            <td colspan="2" class="td_center"><h2>Raw-Material Order List</h2></td>
        </tr>
        <tr>
            <td></td>
            <td><input type="hidden" name="doc_id" value="<%=order._id %>"></td>
        </tr>
       <tr>
           <td>Order:</td>
           <td> <%=order.order_id %></td>
           <span id="orderError" class="error"></span>
       </tr>
       <tr>
           <td>Customer: </td>
           <td><input type="text" name="customer_name" id="customer_name" size="25" value="<%=order.customer_name %>"></td>
       </tr>
        <tr>
            <td colspan="2" class="td_center"><span id="customerError" class="error"></span></td>
        </tr>
       <tr>
           <td>Total-Order:</td>
           <td><input type="text" name="order_total" id="order_total" onchange="calc()" size="25" value="<%=order.order_total %>"></td>
           <span id="totalError" class="error"></span>
       </tr>
       <tr>
           <td>Address:</td>
           <td><input type="text" name="shipping_address" id="shipping_address" size="25" value="<%=order.shipping_address %>"></td>
           <span id="addressError" class="error"></span>
       </tr>
       <tr>
           <td>Phone:</td>
           <td><input type="#" name="phone_number" id="phone_number" size="25" value="<%=order.phone_number %>"></td>
           <span id="phoneError" class="error"></span>
       </tr>
       <tr>
        <td>
           <label for="status">Status:</label>
        </td>
        <td>
           <select name="order_status" id="order_status" >
           <option value="Approved">Approved</option>
           <option value="Reject">Reject</option>
           <span id="statusError" class="error"></span>
        </select>
        </td>
       </tr>
        <tr>
            <td>Date:</td>
            <td> <input type="date" name="order_date" id="order_date" size="25" value="<%=order.order_date %>"></td>
            <span id="dateError" class="error"></span>
        </tr>
        <tr><td></td><td>&nbsp;</td></tr>
        <tr>
            <td colspan="2" class="td_center">
                <input type="submit" value="Save Order" class="save_button">
            </td>
        </tr>
       
   
   </table>
</form>
</body>
<script>

    function validateMaterial(){
    console.log('function validatematerial()......');
    let valid= false;

    //let Order = document.getElementById("order_id").value;
    let Customer = document.getElementById("customer_name").value;
    let TotalOrder = document.getElementById("order_total").value;
    let Address = document.getElementById("shipping_address").value;
    let Phone = document.getElementById("phone_number").value;
    let Status = document.getElementById("order_status").value;
    let Date = document.getElementById("order_date").value;
    

    //console.log("order_id ="+Order);
    console.log("customer_name ="+Customer);
    console.log("order_total ="+TotalOrder);
    console.log("shipping_address ="+Address);
    console.log("phone_number ="+Phone);
    console.log("order_status ="+Status);
    console.log("order_date ="+Date);
    

    document.getElementById('customerError').innerHTML='';
    document.getElementById('totalError').innerHTML='';
    document.getElementById('addressError').innerHTML='';
    document.getElementById('phoneError').innerHTML='';
    document.getElementById('statusError').innerHTML='';
    document.getElementById('dateError').innerHTML='';

if(Customer == ""){
        console.log("Customer is empty.");
        document.getElementById('customerError').innerHTML ='Please provide customer Name';
        document.getElementById("customer_name").focus();
        valid = false;
    }
if(TotalOrder == ""){
        console.log("BuyerName is empty.");
        document.getElementById('totalError').innerHTML ='';
        document.getElementById("order_total").focus();
        valid = false;
    }   
    if(Address == ""){
     console.log("Address is empty.");
     document.getElementById('addressError').innerHTML ='';
     document.getElementById("shipping_address ").focus();
     valid = false;
    }
    
if(Phone == ""){
        console.log("phone is empty.");
        document.getElementById('phoneError').innerHTML ='';
        document.getElementById("phone_number").focus();
        valid = false;
    }
if(Status == ""){
        console.log("Status is empty.");
        document.getElementById('statusError').innerHTML ='';
        document.getElementById("order_status").focus();
        valid = false;
    }
if(Date == ""){
        console.log("Date is empty.");
        document.getElementById('dateError').innerHTML ='';
        document.getElementById("order_date").focus();
        valid = false;
    }


    valid = true;
    console.log('end validateBuyer');
    return valid;

    }

</script>
</html>